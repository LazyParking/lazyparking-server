#!/usr/bin/env node
require('coffee-script/register');

var debug  = require('debug')('lazyparking-server');
var server = require('../app/server');
var app    = require('../app/app');

/*
Start the Express App
 */
var http_server = app.listen(process.env.HTTP_PORT || 3000, function() {
  debug('Express server listening on port ' + http_server.address().port);
});

/*
Start the backend services
for communication with drone
 */
server.setPort(process.env.SERV_PORT || 3030);

server.start(function() {
    debug("Socket server started");
    debug("Socket server listening on port " + server.getPort());
});
