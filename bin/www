#!/usr/bin/env node
var debug  = require('debug')('lazyparking-server');
var server = require('../app/server');
var app    = require('../app/app');

/*
Start the Express App
 */
app.set('port', process.env.HTTP_PORT || 3000);

var http_server = app.listen(app.get('port'), function() {
  debug('Express server listening on port ' + http_server.address().port);
});

/*
Start the backend services
for communication with arduino
 */
server.setPort(process.env.SERV_PORT || 3030);

server.start(function() {
    debug("Socket server started");
    debug("Socket server listening on port " + server.getPort());
});